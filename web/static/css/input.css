@import "tailwindcss";

/* 自定义主题 */
@theme {
  /* 主色 - 曲奇棕 */
  --color-primary: #885021;
  --color-primary-light: #8B5A2B;
  --color-primary-lighter: #A67C52;
  --color-primary-dark: #5D3615;

  /* 辅助色 */
  --color-cream: #F5E6D3;
  --color-caramel: #C4956A;

  /* 语义色 */
  --color-success: #34C759;
  --color-warning: #FF9500;
  --color-danger: #FF3B30;
  --color-info: #007AFF;

  /* 字体 */
  --font-sans: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", "PingFang SC", sans-serif;

  /* 阴影 */
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);

  /* 圆角 */
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-3xl: 20px;

  /* 动画 */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  --animate-skeleton: skeleton 1.5s ease-in-out infinite;
  --animate-breathe: breathe 2s ease-in-out infinite;
}

@keyframes skeleton {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes breathe {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* 自定义组件 */
@layer components {
  /* 主按钮 */
  .btn-primary {
    @apply bg-primary text-white rounded-xl px-6 py-3 font-semibold transition-all duration-150;
    @apply hover:bg-primary-light active:bg-primary-dark active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* 次按钮 */
  .btn-secondary {
    @apply bg-primary/10 text-primary rounded-xl px-6 py-3 font-semibold transition-all duration-150;
    @apply hover:bg-primary/20 active:bg-primary/30 active:scale-[0.98];
  }

  /* 文本按钮 */
  .btn-text {
    @apply text-primary font-medium transition-colors duration-150;
    @apply hover:text-primary-light active:text-primary-dark;
  }

  /* 卡片 */
  .card {
    @apply bg-white rounded-2xl shadow-sm p-4;
  }

  /* 输入框 */
  .input-field {
    @apply w-full p-3 bg-[#E5E5EA] border-none rounded-xl;
    @apply focus:ring-2 focus:ring-primary/20 focus:bg-white outline-none;
    @apply transition-all duration-200 text-[15px] text-[#1C1C1E] placeholder-[#C7C7CC];
  }

  /* 下拉选择框 */
  .select-field {
    @apply w-full p-3 bg-[#E5E5EA] border-none rounded-xl;
    @apply focus:ring-2 focus:ring-primary/20 outline-none;
    @apply transition-all duration-200 text-[15px] text-[#1C1C1E];
  }

  /* 主色标签 */
  .tag-primary {
    @apply text-[11px] px-2 py-0.5 rounded-[10px] font-medium bg-primary/10 text-primary;
  }

  /* 成功标签 */
  .tag-success {
    @apply text-[11px] px-2 py-0.5 rounded-[10px] font-medium bg-success/10 text-success;
  }

  /* 警告标签 */
  .tag-warning {
    @apply text-[11px] px-2 py-0.5 rounded-[10px] font-medium bg-warning/10 text-warning;
  }

  /* 危险标签 */
  .tag-danger {
    @apply text-[11px] px-2 py-0.5 rounded-[10px] font-medium bg-danger/10 text-danger;
  }

  /* 信息标签 */
  .tag-info {
    @apply text-[11px] px-2 py-0.5 rounded-[10px] font-medium bg-info/10 text-info;
  }

  /* 统计卡片 */
  .stat-card {
    @apply text-center p-4 rounded-2xl;
  }

  /* 分段控制器 */
  .segment-control {
    @apply flex bg-[#E5E5EA] rounded-lg p-0.5;
  }

  .segment-item {
    @apply px-3 py-1.5 rounded-md text-[13px] font-medium transition-all duration-200;
  }

  .segment-item-active {
    @apply bg-white text-[#1C1C1E] shadow-sm;
  }

  .segment-item-inactive {
    @apply text-[#8E8E93];
  }
}

/* ==================== 自定义样式 ==================== */

/* Alpine.js 隐藏未初始化内容 */
[x-cloak] {
  display: none !important;
}

/* Cookie 隐私保护 - 亚克力模糊效果 */
.cookie-blur {
  filter: blur(6px);
  opacity: 0.7;
  transition: all 0.3s ease;
}

.cookie-blur:hover,
.cookie-blur:focus {
  filter: blur(0);
  opacity: 1;
}

.cookie-container {
  position: relative;
}

.cookie-container::after {
  content: '悬停或点击以查看';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #64748b;
  font-size: 12px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.cookie-container.is-blurred::after {
  opacity: 1;
}

.cookie-container.is-blurred:hover::after {
  opacity: 0;
}

/* Toast 容器定位 */
#toast-container {
  position: fixed;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 100;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  pointer-events: none;
  width: auto;
  max-width: 90vw;
}

#toast-container > * {
  pointer-events: auto;
}

/* 动感卡片 Toast */
.toast-card {
  @apply flex items-center gap-3 px-5 py-4 rounded-2xl bg-white/95 backdrop-blur-md shadow-[0_8px_30px_rgba(0,0,0,0.12)] border border-white/50;
  @apply transform transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)];
  min-width: 320px;
}

/* Toast 动画状态 */
.toast-enter {
  opacity: 0;
  transform: translateY(-20px) scale(0.95);
}

.toast-enter-active {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.toast-leave {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.toast-leave-active {
  opacity: 0;
  transform: translateY(-20px) scale(0.95);
  transition: all 0.3s ease-in;
}

/* Toast 类型装饰条 - 可选，目前使用 Emoji 背景色区分 */


/* 滚动条美化 */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #C7C7CC;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #8E8E93;
}

/* 代码块样式 */
pre {
  background: #1C1C1E;
  color: #98989D;
  padding: 16px;
  border-radius: 12px;
  overflow-x: auto;
  font-family: 'SF Mono', Monaco, 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.5;
}

code {
  font-family: 'SF Mono', Monaco, 'Courier New', monospace;
}

/* 内联代码 */
:not(pre) > code {
  background: #E5E5EA;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.9em;
}

/* ==================== 公告滚动动画 ==================== */
.announcement-scroll {
  position: relative;
  width: 100%;
}

.announcement-content {
  animation: marquee 20s linear infinite;
  padding-left: 100%;
}

.announcement-scroll:hover .announcement-content {
  animation-play-state: paused;
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

/* ==================== 数据大屏样式 ==================== */
/* 数字动画 */
.stat-number {
  font-variant-numeric: tabular-nums;
}

/* 进度条动画 */
.progress-bar {
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
