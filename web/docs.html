<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API 文档 - 曲奇API</title>

    <!-- Tailwind CSS (编译后) -->
    <link rel="stylesheet" href="static/css/tailwind.css">

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body class="bg-[#F2F2F7] min-h-screen font-sans">
    <div x-data="{ activeTab: 'grades' }" class="max-w-4xl mx-auto px-4 py-8">
        <!-- 头部 -->
        <header class="mb-8">
            <div class="flex items-center mb-4">
                <a href="index.html" class="text-[#8E8E93] hover:text-primary transition-colors mr-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </a>
                <h1 class="text-[28px] font-bold text-[#1C1C1E]">API 文档</h1>
            </div>
            <p class="text-[#8E8E93] text-[15px]">曲奇API 接口说明与使用指南</p>
        </header>

        <!-- 基础信息 -->
        <section class="card mb-6">
            <h2 class="text-[17px] font-semibold text-[#1C1C1E] mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                基础信息
            </h2>
            <div class="space-y-3 text-[15px]">
                <div class="flex items-center justify-between py-2 border-b border-[#E5E5EA]">
                    <span class="text-[#8E8E93]">Base URL</span>
                    <code class="bg-[#E5E5EA] px-2 py-1 rounded text-[13px] font-mono">/api/v1</code>
                </div>
                <div class="flex items-center justify-between py-2 border-b border-[#E5E5EA]">
                    <span class="text-[#8E8E93]">数据格式</span>
                    <code class="bg-[#E5E5EA] px-2 py-1 rounded text-[13px] font-mono">JSON</code>
                </div>
                <div class="flex items-center justify-between py-2">
                    <span class="text-[#8E8E93]">认证方式</span>
                    <code class="bg-[#E5E5EA] px-2 py-1 rounded text-[13px] font-mono">Authorization Header</code>
                </div>
            </div>
        </section>

        <!-- 认证说明 -->
        <section class="card mb-6">
            <h2 class="text-[17px] font-semibold text-[#1C1C1E] mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path>
                </svg>
                认证说明
            </h2>
            <p class="text-[15px] text-[#1C1C1E] mb-4">
                所有受保护的接口都需要在请求头中携带教务系统的 Cookie 进行认证。
            </p>
            <div class="bg-[#1C1C1E] rounded-xl p-4 overflow-x-auto">
                <pre class="text-[13px] font-mono text-[#98989D]"><span class="text-[#34C759]">GET</span> /api/v1/zhjw/grades
<span class="text-[#8E8E93]">Headers:</span>
  <span class="text-[#FF9500]">Authorization</span>: <span class="text-[#007AFF]">JSESSIONID=xxx; route=xxx</span></pre>
            </div>
        </section>

        <!-- API 端点导航 -->
        <section class="mb-6">
            <div class="flex space-x-2 overflow-x-auto pb-2">
                <button @click="activeTab = 'grades'"
                    :class="activeTab === 'grades' ? 'bg-primary text-white' : 'bg-white text-[#1C1C1E]'"
                    class="px-4 py-2 rounded-xl text-[13px] font-medium whitespace-nowrap transition-colors shadow-sm">
                    成绩查询
                </button>
                <button @click="activeTab = 'course-plan'"
                    :class="activeTab === 'course-plan' ? 'bg-primary text-white' : 'bg-white text-[#1C1C1E]'"
                    class="px-4 py-2 rounded-xl text-[13px] font-medium whitespace-nowrap transition-colors shadow-sm">
                    教学计划
                </button>
                <button @click="activeTab = 'exam'"
                    :class="activeTab === 'exam' ? 'bg-primary text-white' : 'bg-white text-[#1C1C1E]'"
                    class="px-4 py-2 rounded-xl text-[13px] font-medium whitespace-nowrap transition-colors shadow-sm">
                    考试安排
                </button>
                <button @click="activeTab = 'selection'"
                    :class="activeTab === 'selection' ? 'bg-primary text-white' : 'bg-white text-[#1C1C1E]'"
                    class="px-4 py-2 rounded-xl text-[13px] font-medium whitespace-nowrap transition-colors shadow-sm">
                    选课结果
                </button>
            </div>
        </section>

        <!-- 成绩查询 API -->
        <section x-show="activeTab === 'grades'" x-transition class="space-y-4">
            <div class="card">
                <div class="flex items-center mb-4">
                    <span class="tag-success mr-2">GET</span>
                    <code class="text-[15px] font-mono text-[#1C1C1E]">/api/v1/zhjw/grades</code>
                </div>
                <p class="text-[15px] text-[#8E8E93] mb-4">查询学生成绩列表，支持按学期、课程性质等条件筛选。</p>

                <!-- 请求参数 -->
                <h3 class="text-[15px] font-semibold text-[#1C1C1E] mb-3">请求参数</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-[13px]">
                        <thead>
                            <tr class="border-b border-[#E5E5EA]">
                                <th class="text-left py-2 text-[#8E8E93] font-medium">参数名</th>
                                <th class="text-left py-2 text-[#8E8E93] font-medium">类型</th>
                                <th class="text-left py-2 text-[#8E8E93] font-medium">必填</th>
                                <th class="text-left py-2 text-[#8E8E93] font-medium">说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-[#E5E5EA]">
                                <td class="py-2"><code class="bg-[#E5E5EA] px-1 rounded">term</code></td>
                                <td class="py-2 text-[#8E8E93]">string</td>
                                <td class="py-2"><span class="tag-info">否</span></td>
                                <td class="py-2 text-[#8E8E93]">学期，如 "2024-2025-1"</td>
                            </tr>
                            <tr class="border-b border-[#E5E5EA]">
                                <td class="py-2"><code class="bg-[#E5E5EA] px-1 rounded">course_type</code></td>
                                <td class="py-2 text-[#8E8E93]">string</td>
                                <td class="py-2"><span class="tag-info">否</span></td>
                                <td class="py-2 text-[#8E8E93]">课程性质代码，如 "01"</td>
                            </tr>
                            <tr class="border-b border-[#E5E5EA]">
                                <td class="py-2"><code class="bg-[#E5E5EA] px-1 rounded">course_name</code></td>
                                <td class="py-2 text-[#8E8E93]">string</td>
                                <td class="py-2"><span class="tag-info">否</span></td>
                                <td class="py-2 text-[#8E8E93]">课程名称关键词</td>
                            </tr>
                            <tr>
                                <td class="py-2"><code class="bg-[#E5E5EA] px-1 rounded">display_type</code></td>
                                <td class="py-2 text-[#8E8E93]">string</td>
                                <td class="py-2"><span class="tag-info">否</span></td>
                                <td class="py-2 text-[#8E8E93]">"all" 全部 / "max" 最好成绩</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- 响应示例 -->
                <h3 class="text-[15px] font-semibold text-[#1C1C1E] mt-6 mb-3">响应示例</h3>
                <div class="bg-[#1C1C1E] rounded-xl p-4 overflow-x-auto">
                    <pre class="text-[11px] font-mono text-[#98989D] leading-relaxed">{
  "code": 200,
  "msg": "success",
  "data": {
    "grades": [
      {
        "semester": "2024-2025-1",
        "course_code": "CS101",
        "course_name": "程序设计基础",
        "score": "92",
        "credit": "4.0",
        "gpa": "4.0",
        "exam_type": "考试",
        "course_prop": "专业必修课"
      }
    ],
    "total_stat": {
      "weighted_gpa": 3.85,
      "total_credits": 120.5,
      "course_count": 45
    },
    "year_stats": [...],
    "semester_stats": [...]
  }
}</pre>
                </div>
            </div>
        </section>

        <!-- 教学计划 API -->
        <section x-show="activeTab === 'course-plan'" x-transition class="space-y-4">
            <div class="card">
                <div class="flex items-center mb-4">
                    <span class="tag-success mr-2">GET</span>
                    <code class="text-[15px] font-mono text-[#1C1C1E]">/api/v1/zhjw/course-plan</code>
                </div>
                <p class="text-[15px] text-[#8E8E93] mb-4">获取学生的教学计划/培养方案信息。</p>

                <h3 class="text-[15px] font-semibold text-[#1C1C1E] mb-3">请求参数</h3>
                <p class="text-[13px] text-[#8E8E93]">无需额外参数，仅需认证信息。</p>
            </div>
        </section>

        <!-- 考试安排 API -->
        <section x-show="activeTab === 'exam'" x-transition class="space-y-4">
            <div class="card">
                <div class="flex items-center mb-4">
                    <span class="tag-success mr-2">GET</span>
                    <code class="text-[15px] font-mono text-[#1C1C1E]">/api/v1/zhjw/exam-schedules</code>
                </div>
                <p class="text-[15px] text-[#8E8E93] mb-4">查询学生的考试安排信息。</p>

                <h3 class="text-[15px] font-semibold text-[#1C1C1E] mb-3">请求参数</h3>
                <p class="text-[13px] text-[#8E8E93]">无需额外参数，仅需认证信息。</p>
            </div>
        </section>

        <!-- 选课结果 API -->
        <section x-show="activeTab === 'selection'" x-transition class="space-y-4">
            <div class="card">
                <div class="flex items-center mb-4">
                    <span class="tag-success mr-2">GET</span>
                    <code class="text-[15px] font-mono text-[#1C1C1E]">/api/v1/zhjw/selection-results</code>
                </div>
                <p class="text-[15px] text-[#8E8E93] mb-4">查询学生的选课结果信息。</p>

                <h3 class="text-[15px] font-semibold text-[#1C1C1E] mb-3">请求参数</h3>
                <p class="text-[13px] text-[#8E8E93]">无需额外参数，仅需认证信息。</p>
            </div>
        </section>

        <!-- 课程类型参考表 -->
        <section class="card mt-6">
            <h2 class="text-[17px] font-semibold text-[#1C1C1E] mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                </svg>
                课程类型代码参考
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-[13px]">
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">01</code>
                    <span class="text-[#8E8E93]">公共课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">02</code>
                    <span class="text-[#8E8E93]">公共基础课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">03</code>
                    <span class="text-[#8E8E93]">专业基础课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">04</code>
                    <span class="text-[#8E8E93]">专业课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">05</code>
                    <span class="text-[#8E8E93]">专业选修课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">06</code>
                    <span class="text-[#8E8E93]">公共选修课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">07</code>
                    <span class="text-[#8E8E93]">专业任选课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">08</code>
                    <span class="text-[#8E8E93]">实践教学环节</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">09</code>
                    <span class="text-[#8E8E93]">公共任选课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">10</code>
                    <span class="text-[#8E8E93]">教师教育基础课程（必修）</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">11</code>
                    <span class="text-[#8E8E93]">专业必修课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">12</code>
                    <span class="text-[#8E8E93]">学科基础必修课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">13</code>
                    <span class="text-[#8E8E93]">专业方向限选课</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">14</code>
                    <span class="text-[#8E8E93]">考试报名虚拟课程</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <code class="bg-[#E5E5EA] px-1 rounded">15</code>
                    <span class="text-[#8E8E93]">教师教育选修课程</span>
                </div>
                <div class="flex justify-between py-2">
                    <code class="bg-[#E5E5EA] px-1 rounded">16</code>
                    <span class="text-[#8E8E93]">公共必修课</span>
                </div>
            </div>
        </section>

        <!-- 错误码说明 -->
        <section class="card mt-6">
            <h2 class="text-[17px] font-semibold text-[#1C1C1E] mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>
                常见错误码
            </h2>
            <div class="space-y-2 text-[13px]">
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <span class="tag-danger">401</span>
                    <span class="text-[#8E8E93]">未授权，Cookie 无效或已过期</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <span class="tag-danger">400</span>
                    <span class="text-[#8E8E93]">请求参数错误</span>
                </div>
                <div class="flex justify-between py-2 border-b border-[#E5E5EA]">
                    <span class="tag-danger">500</span>
                    <span class="text-[#8E8E93]">服务器内部错误</span>
                </div>
                <div class="flex justify-between py-2">
                    <span class="tag-danger">502</span>
                    <span class="text-[#8E8E93]">上游教务系统不可用</span>
                </div>
            </div>
        </section>

        <!-- 页脚 -->
        <footer class="text-center py-8 mt-8 border-t border-[#E5E5EA]">
            <p class="text-[13px] text-[#8E8E93]">
                <a href="index.html" class="text-primary hover:underline">返回首页</a> ·
                <a href="https://github.com/W1ndys/qfnu-api-go" target="_blank" class="text-primary hover:underline">GitHub</a>
            </p>
        </footer>
    </div>
</body>

</html>
